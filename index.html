<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mortgage Calculator</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        background: linear-gradient(to bottom right, #f0fdf4, #e0f2e0, #fef08a);
        min-height: 100vh;
        color: #1f2937;
      }

      .header {
        background-color: white;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        border-bottom: 1px solid #e5e7eb;
        padding: 1.5rem 0;
        margin-bottom: 2rem;
        position: relative;
      }

      .header-content {
        max-width: 1024px;
        margin: 0 auto;
        padding: 0 1rem;
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
      }

      .header-text h1 {
        font-size: 2rem;
        font-weight: 700;
        color: #111827;
        margin-bottom: 0.5rem;
      }

      .header-text p {
        color: #4b5563;
        font-size: 0.95rem;
      }

      .header-reset {
        margin-top: 0.5rem;
      }

      .container {
        max-width: 1024px;
        margin: 0 auto;
        padding: 0 1rem;
        padding-bottom: 3rem;
      }

      .grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 2rem;
      }

      @media (max-width: 1024px) {
        .grid {
          grid-template-columns: 1fr;
        }
      }

      .card {
        background: white;
        border-radius: 0.5rem;
        border: 1px solid #e5e7eb;
        padding: 2rem;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      }

      .card-title {
        font-size: 1.25rem;
        font-weight: 600;
        color: #111827;
        margin-bottom: 1.5rem;
      }

      .form-group {
        margin-bottom: 1.5rem;
      }

      .form-group.two-col {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
      }

      .form-group.two-col > div {
        margin-bottom: 0;
      }

      label {
        display: block;
        color: #374151;
        font-weight: 500;
        margin-bottom: 0.5rem;
        font-size: 0.95rem;
      }

      .input-wrapper {
        position: relative;
      }

      input[type="number"] {
        width: 100%;
        padding: 0.75rem 1rem;
        border: 1px solid #d1d5db;
        border-radius: 0.375rem;
        font-size: 1rem;
        font-family: inherit;
        transition: all 0.2s;
      }

      input[type="number"]:focus {
        outline: none;
        border-color: #065f46;
        box-shadow: 0 0 0 3px rgba(6, 95, 70, 0.1);
      }

      .input-addon {
        position: absolute;
        color: #6b7280;
        font-weight: 500;
        top: 0.75rem;
        font-size: 1rem;
      }

      .input-addon.prefix {
        left: 0.75rem;
        padding-left: 0.25rem;
      }

      .input-addon.suffix {
        right: 0.75rem;
        padding-right: 0.25rem;
      }

      input.with-prefix {
        padding-left: 1.75rem;
      }

      input.with-suffix {
        padding-right: 1.75rem;
      }

      .error-message {
        color: #ef4444;
        font-size: 0.875rem;
        font-weight: 500;
        margin-top: 0.25rem;
        display: none;
      }

      .error-message.show {
        display: block;
      }

      .mortgage-type-group {
        display: flex;
        gap: 0.75rem;
      }

      .mortgage-btn {
        flex: 1;
        padding: 0.625rem 1rem;
        border-radius: 0.5rem;
        font-weight: 600;
        font-size: 0.95rem;
        cursor: pointer;
        border: 1px solid transparent;
        transition: all 0.2s;
        background-color: #f3f4f6;
        border-color: #d1d5db;
        color: #374151;
      }

      .mortgage-btn:hover {
        background-color: #fef08a;
        border-color: #eab308;
        color: #111827;
      }

      .mortgage-btn.active {
        background: linear-gradient(to right, #065f46, #047857);
        color: white;
        border-color: transparent;
      }

      .mortgage-btn.active:hover {
        background: linear-gradient(to right, #064e3b, #065f46);
        color: #fef08a;
      }

      .button-group {
        display: flex;
        gap: 0.75rem;
        margin-top: 1.5rem;
      }

      .button-group .btn {
        flex: 1;
      }

      .btn {
        padding: 0.625rem 1.5rem;
        border-radius: 0.5rem;
        font-weight: 600;
        font-size: 0.95rem;
        cursor: pointer;
        border: 1px solid transparent;
        transition: all 0.2s;
      }

      .btn-primary {
        background: linear-gradient(to right, #065f46, #047857);
        color: white;
        flex: 1;
      }

      .btn-primary:hover {
        background: linear-gradient(to right, #064e3b, #065f46);
        color: #fef08a;
      }

      .btn-secondary {
        background-color: white;
        border-color: #d1d5db;
        color: #374151;
        flex: 1;
      }

      .btn-secondary:hover {
        background-color: #fef08a;
        border-color: #eab308;
        color: #065f46;
      }

      .btn-header {
        padding: 0.625rem 1.5rem;
        border-radius: 0.5rem;
        font-weight: 600;
        font-size: 0.95rem;
        cursor: pointer;
        border: 1px solid #d1d5db;
        background-color: white;
        color: #374151;
        transition: all 0.2s;
      }

      .btn-header:hover {
        background-color: #fef08a;
        border-color: #eab308;
        color: #065f46;
      }

      .results-container {
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
      }

      .empty-state {
        background: linear-gradient(to bottom right, #f9fafb, #f3f4f6);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 400px;
        border-radius: 0.5rem;
        padding: 2rem;
        text-align: center;
      }

      .empty-state-icon {
        width: 4rem;
        height: 4rem;
        background-color: #d1d5db;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 1rem;
      }

      .empty-state-icon svg {
        width: 2rem;
        height: 2rem;
        color: #6b7280;
      }

      .empty-state p {
        color: #4b5563;
        font-weight: 500;
      }

      .results-grid {
        display: none;
        space: 1.5rem;
      }

      .results-grid.show {
        display: block;
      }

      .result-box {
        border-radius: 0.5rem;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
      }

      .result-box.primary {
        background: linear-gradient(to bottom right, #dcfce7, #bbf7d0);
        border: 1px solid #86efac;
      }

      .result-box.secondary {
        background: linear-gradient(to bottom right, #f0fdf4, #dbeafe);
        border: 1px solid #d1fae5;
      }

      .result-box.tertiary {
        background: linear-gradient(to bottom right, #fef08a, #fde047);
        border: 1px solid #eab308;
      }

      .result-label {
        color: #4b5563;
        font-size: 0.875rem;
        font-weight: 500;
        margin-bottom: 0.25rem;
      }

      .result-value {
        font-size: 1.875rem;
        font-weight: 700;
      }

      .result-box.primary .result-value {
        color: #065f46;
      }

      .result-box.secondary .result-value {
        color: #065f46;
      }

      .result-box.tertiary .result-value {
        color: #a16207;
      }

      .summary-box {
        background-color: #f9fafb;
        border-radius: 0.5rem;
        padding: 1rem;
        border: 1px solid #e5e7eb;
      }

      .summary-row {
        display: flex;
        justify-content: space-between;
        padding: 0.75rem 0;
        font-size: 0.875rem;
      }

      .summary-label {
        color: #4b5563;
      }

      .summary-value {
        font-weight: 600;
        color: #111827;
      }

      @media (max-width: 640px) {
        .header h1 {
          font-size: 1.75rem;
        }

        .header p {
          font-size: 0.9rem;
        }

        .card {
          padding: 1.5rem;
        }

        .grid {
          gap: 1.5rem;
        }

        .form-group.two-col {
          grid-template-columns: 1fr;
          gap: 0;
        }

        .form-group.two-col > div {
          margin-bottom: 1.5rem;
        }

        .result-value {
          font-size: 1.5rem;
        }

        .mortgage-type-group {
          flex-direction: column;
        }

        .mortgage-btn {
          width: 100%;
        }
      }
    </style>
  </head>

  <body>
    <!-- Header -->
    <div class="header">
      <div class="header-content">
        <div class="header-text">
          <h1>Mortgage Calculator</h1>
          <p>Calculate your monthly mortgage payments and total costs</p>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="container">
      <div class="grid">
        <!-- Form Section -->
        <div class="card">
          <h2 class="card-title">Loan Details</h2>

          <div class="form-group">
            <label for="loanAmount">Loan Amount (USD)</label>
            <div class="input-wrapper">
              <span class="input-addon prefix">$</span>
              <input
                id="loanAmount"
                type="number"
                class="with-prefix"
                placeholder="250000"
                value="250000"
              />
            </div>
            <div class="error-message" id="loanAmountError"></div>
          </div>

          <div class="form-group two-col">
            <div>
              <label for="interestRate">Annual Interest Rate (%)</label>
              <div class="input-wrapper">
                <input
                  id="interestRate"
                  type="number"
                  class="with-suffix"
                  placeholder="6.5"
                  value="6.5"
                  step="0.01"
                />
                <span class="input-addon suffix">%</span>
              </div>
              <div class="error-message" id="interestRateError"></div>
            </div>

            <div>
              <label for="loanTerm">Loan Term (Years)</label>
              <div class="input-wrapper">
                <input
                  id="loanTerm"
                  type="number"
                  placeholder="30"
                  value="30"
                />
              </div>
              <div class="error-message" id="loanTermError"></div>
            </div>
          </div>

          <div class="form-group">
            <label>Mortgage Type</label>
            <div class="mortgage-type-group">
              <button
                class="mortgage-btn active"
                data-type="repayment"
                onclick="setMortgageType('repayment')"
              >
                Repayment
              </button>
              <button
                class="mortgage-btn"
                data-type="interest-only"
                onclick="setMortgageType('interest-only')"
              >
                Interest Only
              </button>
            </div>
          </div>

          <div class="button-group">
            <button class="btn btn-primary" onclick="calculateMortgage()">
              Calculate
            </button>
          </div>
        </div>

        <!-- Results Section -->
        <div class="results-container">
          <div class="card">
            <h2 class="card-title">Results</h2>

            <div class="empty-state" id="emptyState">
              <div class="empty-state-icon">
                <svg
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"
                  />
                </svg>
              </div>
              <p>
                Fill in your loan details and click "Calculate" to see your
                mortgage breakdown
              </p>
            </div>

            <div class="results-grid" id="resultsGrid">
              <div class="result-box primary">
                <div class="result-label">Monthly Payment</div>
                <div class="result-value" id="monthlyPayment">$0.00</div>
              </div>

              <div class="result-box secondary">
                <div class="result-label">Total Amount Paid</div>
                <div class="result-value" id="totalPayment">$0.00</div>
              </div>

              <div class="result-box tertiary">
                <div class="result-label">Total Interest Paid</div>
                <div class="result-value" id="totalInterest">$0.00</div>
              </div>

              <div class="summary-box">
                <div class="summary-row">
                  <span class="summary-label">Loan Amount:</span>
                  <span class="summary-value" id="summaryLoanAmount">$0.00</span>
                </div>
                <div class="summary-row">
                  <span class="summary-label">Interest Rate:</span>
                  <span class="summary-value" id="summaryInterestRate">0%</span>
                </div>
                <div class="summary-row">
                  <span class="summary-label">Loan Term:</span>
                  <span class="summary-value" id="summaryLoanTerm">0 years</span>
                </div>
                <div class="summary-row">
                  <span class="summary-label">Mortgage Type:</span>
                  <span class="summary-value" id="summaryMortgageType">Repayment</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      let currentMortgageType = 'repayment';

      function setMortgageType(type) {
        currentMortgageType = type;
        
        // Update button styles
        document.querySelectorAll('.mortgage-btn').forEach(btn => {
          btn.classList.remove('active');
          if (btn.dataset.type === type) {
            btn.classList.add('active');
          }
        });
      }

      function formatCurrency(value) {
        return new Intl.NumberFormat('en-US', {
          style: 'currency',
          currency: 'USD',
          minimumFractionDigits: 2,
          maximumFractionDigits: 2,
        }).format(value);
      }

      function validateForm() {
        const errors = {};
        const loanAmount = document.getElementById('loanAmount').value;
        const interestRate = document.getElementById('interestRate').value;
        const loanTerm = document.getElementById('loanTerm').value;

        // Clear all error messages
        document.getElementById('loanAmountError').classList.remove('show');
        document.getElementById('interestRateError').classList.remove('show');
        document.getElementById('loanTermError').classList.remove('show');

        if (!loanAmount) {
          errors.loanAmount = 'Loan amount is required';
        } else if (isNaN(Number(loanAmount)) || Number(loanAmount) <= 0) {
          errors.loanAmount = 'Please enter a valid loan amount';
        }

        if (!interestRate) {
          errors.interestRate = 'Interest rate is required';
        } else if (isNaN(Number(interestRate)) || Number(interestRate) < 0) {
          errors.interestRate = 'Please enter a valid interest rate';
        }

        if (!loanTerm) {
          errors.loanTerm = 'Loan term is required';
        } else if (
          isNaN(Number(loanTerm)) ||
          Number(loanTerm) <= 0 ||
          !Number.isInteger(Number(loanTerm))
        ) {
          errors.loanTerm = 'Please enter a valid loan term in years';
        }

        // Display error messages
        if (errors.loanAmount) {
          const errorEl = document.getElementById('loanAmountError');
          errorEl.textContent = errors.loanAmount;
          errorEl.classList.add('show');
        }
        if (errors.interestRate) {
          const errorEl = document.getElementById('interestRateError');
          errorEl.textContent = errors.interestRate;
          errorEl.classList.add('show');
        }
        if (errors.loanTerm) {
          const errorEl = document.getElementById('loanTermError');
          errorEl.textContent = errors.loanTerm;
          errorEl.classList.add('show');
        }

        return Object.keys(errors).length === 0;
      }

      function calculateMortgage() {
        if (!validateForm()) {
          return;
        }

        const principal = Number(document.getElementById('loanAmount').value);
        const annualRate = Number(document.getElementById('interestRate').value);
        const years = Number(document.getElementById('loanTerm').value);
        const monthlyRate = annualRate / 100 / 12;
        const numberOfPayments = years * 12;

        let monthlyPayment = 0;
        let totalPayment = 0;
        let totalInterest = 0;

        if (currentMortgageType === 'repayment') {
          if (monthlyRate === 0) {
            monthlyPayment = principal / numberOfPayments;
          } else {
            monthlyPayment =
              (principal *
                (monthlyRate * Math.pow(1 + monthlyRate, numberOfPayments))) /
              (Math.pow(1 + monthlyRate, numberOfPayments) - 1);
          }
          totalPayment = monthlyPayment * numberOfPayments;
          totalInterest = totalPayment - principal;
        } else {
          monthlyPayment = principal * monthlyRate;
          totalPayment = principal + monthlyPayment * numberOfPayments;
          totalInterest = monthlyPayment * numberOfPayments;
        }

        // Round to 2 decimal places
        monthlyPayment = Math.round(monthlyPayment * 100) / 100;
        totalPayment = Math.round(totalPayment * 100) / 100;
        totalInterest = Math.round(totalInterest * 100) / 100;

        // Update results
        document.getElementById('monthlyPayment').textContent =
          formatCurrency(monthlyPayment);
        document.getElementById('totalPayment').textContent =
          formatCurrency(totalPayment);
        document.getElementById('totalInterest').textContent =
          formatCurrency(totalInterest);

        // Update summary
        document.getElementById('summaryLoanAmount').textContent =
          formatCurrency(principal);
        document.getElementById('summaryInterestRate').textContent =
          Number(annualRate).toFixed(2) + '%';
        document.getElementById('summaryLoanTerm').textContent =
          years + ' years';
        document.getElementById('summaryMortgageType').textContent =
          currentMortgageType === 'repayment' ? 'Repayment' : 'Interest Only';

        // Show results and hide empty state
        document.getElementById('emptyState').style.display = 'none';
        document.getElementById('resultsGrid').classList.add('show');
      }

      function resetForm() {
        document.getElementById('loanAmount').value = '250000';
        document.getElementById('interestRate').value = '6.5';
        document.getElementById('loanTerm').value = '30';
        
        // Reset mortgage type to repayment
        setMortgageType('repayment');

        // Clear error messages
        document.getElementById('loanAmountError').classList.remove('show');
        document.getElementById('interestRateError').classList.remove('show');
        document.getElementById('loanTermError').classList.remove('show');

        // Hide results
        document.getElementById('emptyState').style.display = 'flex';
        document.getElementById('resultsGrid').classList.remove('show');
      }

      // Initialize mortgage type on page load
      setMortgageType('repayment');
    </script>
  </body>
</html>
